<!DOCTYPE html>
<html lang="En">
  <head>
    <meta charset="UTF-8" />
    <title>Digital Fridge</title>
    <link rel="stylesheet" href="global.css" type="text/css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Doto:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Doto:wght@312&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
      rel="stylesheet"
    />

    <!-- <script src="generateList.js"></script> -->
  </head>
  <body>
    <h1>Shopping</h1>
    <!-- <form>
      <input type="checkbox" />
      <label for="checkbox" class="strike"> Item 1 </label><br />
      <input type="checkbox" />
      <label for="checkbox" class="strike"> Item 2 </label><br />
      <input type="checkbox" />
      <label for="checkbox" class="strike"> Item 3 </label><br />
      <input type="checkbox" />
      <label for="checkbox" class="strike"> Item 4 </label>
    </form> -->

    <ul id="checklist"></ul>

    <a href="/pantry"><p>Keep Track of Your Grocery List -></p></a>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
      <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
      <path
        d="M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"
      />
    </svg>
  </body>

  <script>
    const queryString = window.location.search;
    const params = new URLSearchParams(queryString);
    const diet = params.get("diet");

    // let recipe = "";
    // if (diet == "Basic") {
    //   recipe = "onePotSausageAndSunDriedTomatoPasta";
    // } else if (diet == "Low_Carb") {
    // } else if (diet == "Veg") {
    // }

    // let path = `./recipes/${recipe}.json`;
    let data;

    // console.log(diet);

    data = JSON.parse(localStorage.getItem("Basic"));

    console.log(data);

    const ingredientKeys = Object.keys(data);
    console.log(ingredientKeys);

    let shoppingList = [];

    for (ingredient in ingredientKeys) {
      console.log(
        `${data[ingredientKeys[ingredient]].quantity * 2.5} ${
          data[ingredientKeys[ingredient]].metric
        } | ${ingredientKeys[ingredient]}`
      );

      shoppingList.push(
        `${data[ingredientKeys[ingredient]].quantity * 2.5} ${
          data[ingredientKeys[ingredient]].metric
        } | ${ingredientKeys[ingredient]}`
      );
    }

    shoppingList.forEach((item) => {
      const checklist = document.getElementById("checklist");

      const listItem = document.createElement("li");

      const checkbox = document.createElement("input");

      checkbox.type = "checkbox";
      checkbox.id = item;

      const label = document.createElement("label");
      label.htmlFor = item;
      label.textContent = item;

      // Append the checkbox and label to the list item
      listItem.appendChild(checkbox);
      listItem.appendChild(label);

      // Append the list item to the checklist
      checklist.appendChild(listItem);

      //   li.textContent = `${pantry[pantryKeys[ingredient]].quantity} ${
      //     pantry[pantryKeys[ingredient]].metric
      //   } | ${pantryKeys[ingredient]}`;
      //   ul.appendChild(li);
    });

    // console.log(shoppingList);
  </script>
</html>
